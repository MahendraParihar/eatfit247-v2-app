FROM node:22
RUN apt-get update
RUN apt-get install -y g++ make python3-pip
RUN apt-get install -y chromium
WORKDIR /home/app
RUN mkdir eatfit247-cms-api
COPY ./eatfit247-cms-api/package*.json ./eatfit247-cms-api/
COPY ./eatfit247-cms-api ./eatfit247-cms-api
RUN npm --prefix eatfit247-cms-api install
RUN npm --prefix eatfit247-cms-api run build
EXPOSE 3000
